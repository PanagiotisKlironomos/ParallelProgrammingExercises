**Άσκηση 2 **

Σας ζητείται να φτιάξετε ένα MPI πρόγραμμα σε C, το οποίο δοθέντων τεσσάρων πινάκων Α(1xN), Β(Nx1), C(NxN) και D(NxN) να υπολογίζει με παράλληλο τρόπο σε περιβάλλον &#39;p&#39; επεξεργαστών, τις ακόλουθες παραστάσεις:

1. C(NxN) + D(NxN) /\* άθροισμα δύο δυσδιάστατων πινάκων \*/
2. C(NxΝ) \* Β(Νx1) /\* πολλαπλασιασμός δυσδιάστατου πίνακα με διάνυσμα-στήλη \*/
3. Α(1xΝ) \* Β(Νx1) /\* πολλαπλασιασμός διανύσματος-γραμμής με διάνυσμα-στήλη \*/

IV. C(NxN) \* D(NxN) /\* πολλαπλασιασμός δυσδιάστατων πινάκων με τον ακόλουθο αλγόριθμο: \*/

-----------------------------------------------------------------------------------------------------------------------

Για την πράξη του πολλαπλασιασμού δυσδιάστατων πινάκων του Ερωτήματος IV, θεωρείστε ότι οι επεξεργαστές είναι οργανωμένοι &#39;εικονικά&#39; σε τοπολογία δακτυλίου (ring) και ακολουθήστε τον παρακάτω αλγόριθμο επικοινωνίας (δίνεται για Ν=p):

1. Κάθε επεξεργαστής θα είναι υπεύθυνος για τον υπολογισμό μίας γραμμής του πίνακα αποτελέσματος (o &#39;0&#39; για την 1η, ο &#39;1&#39; για τη 2η κλπ).
2. Αρχικά κάθε επεξεργαστής θα λαμβάνει μία γραμμή του πίνακα C (o &#39;0&#39; την 1η, ο &#39;1&#39; τη 2η κλπ) και μία γραμμή του πίνακα D (o &#39;0&#39; την 1η, ο &#39;1&#39; τη 2η κλπ) και θα πραγματοποιεί ότι υπολογισμούς είναι χρήσιμοι για τον υπολογισμό των στοιχείων της γραμμής του πίνακα-αποτελέσματος για την οποία είναι υπεύθυνος.
3. Στη συνέχεια, σε κάθε βήμα (p-1 βήματα) κάθε επεξεργαστής θα λαμβάνει την επόμενη γραμμή του πίνακα D από τον &#39;επόμενο&#39; στην τοπολογία (ring) επεξεργαστή και θα πραγματοποιεί (διατηρώντας την ίδια γραμμή του πίνακα C που είχε εξαρχής – οι γραμμές του D είναι δηλαδή αυτές που αλλάζουν/διακινούνται μόνο/κυκλικά μεταξύ των επεξεργαστών) τους αντίστοιχους υπολογισμούς με τη νέα πλέον γραμμή του D που θα έχει λάβει κ.ο.κ.

-----------------------------------------------------------------------------------------------------------------------

[Για όλα τα παραπάνω, θα πρέπει να χρησιμοποιήσετε κατάλληλα τις συναρτήσεις συλλογικής επικοινωνίας (Σ.Σ.Ε.) που προσφέρει το MPI (MPI\_Bcast(), MPI\_Reduce(), MPI\_Scatter(), MPI\_Gather()), καθώς και τις βασικές συναρτήσεις επικοινωνίας MPI\_Send(), MPI\_Recv() όπου δεν είναι δυνατή η επίλυση στο σύνολό της μόνο με συλλογική επικοινωνία – π.χ. στο ερώτημα IV]

Το πρόγραμμά σας θα πρέπει να λειτουργεί επαναληπτικά και με μενού επιλογών. Το &#39;Ν&#39; και τα στοιχεία των τεσσάρων πινάκων θα πρέπει να τα διαβάζει αρχικά ο επεξεργαστής &#39;0&#39; από την οθόνη, ο οποίος θα εμφανίζει επίσης στο τέλος στην οθόνη και το τελικό αποτέλεσμα.

Θεωρείστε ότι για το ερώτημα IV ισχύει ότι N=p, ενώ για τα ερωτήματα I,II και III ισχύει ότι το &#39;N&#39; είναι ακέραιο πολλαπλάσιο του &#39;p&#39; (Ν%p=0).

Στη συνέχεια, για τo ερώτημα ΙΙ (και μόνο για αυτό) επεκτείνατε το πρόγραμμά σας έτσι ώστε να συμπεριφέρεται σωστά για οποιοδήποτε συνδυασμό &#39;N&#39; και &#39;p&#39; (με χρήση των συναρτήσεων MPI\_Scatterv(), MPI\_Gatherv). Βρείτε επίσης το μέγιστο σε τιμή (maximum) στοιχείο του πίνακα αποτελέσματος καθώς και σε ποια θέση βρίσκεται.

